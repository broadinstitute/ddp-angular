<header class="header" [ngClass]="{'panel-opened': isPanelOpened, 'header_shadow': isPageScrolled}" >
  <div class="header-content sticky" [ngClass]="{'header-content_sticky': headerConfig.stickySubtitle}">
    <aside [routerLink]="['/']" (click)="onLogoClick()">
      <img class="project-logo" src="../../../assets/images/nav-logo.svg" alt="">
      <p>Leiomyosarcoma <br> Project</p>
    </aside>
    <nav *ngIf="headerConfig.showMainButtons" class="header__nav">
      <app-nav></app-nav>
    </nav>

    <div *ngIf="headerConfig.stickySubtitle || headerConfig.showBreadcrumbs" class="activity-heading">
      <div *ngIf="headerConfig.showBreadcrumbs" class="breadcrumbs">
        <app-workflow-progress [currentActivityCode]="headerConfig.currentActivityCode"
                               [workflowStartSectionsVisibility]="headerConfig.workflowStartSectionsVisibility">
        </app-workflow-progress>
      </div>
      <div *ngIf="headerConfig.stickySubtitle" class="sticky" [innerHTML]="headerConfig.stickySubtitle"></div>
    </div>

    <div class="auth">
      <div *ngIf="isAuthenticated" class="auth__dashboard">
        <ng-container *ngTemplateOutlet="dashboardButton"></ng-container>
      </div>
      <div *ngIf="isAuthenticated && headerConfig.showLoginButton" class="auth__login header-link"
           [ngClass]="{'header-button': !headerConfig.showMainButtons}">
        <ddp-sign-in-out></ddp-sign-in-out>
      </div>
    </div>

    <aside *ngIf="!isAuthenticated && headerConfig.showLoginButton" class="loginOutButtons">
      <app-login-out></app-login-out>
    </aside>
  </div>
</header>

<ng-template #dashboardButton>
  <a class="header-link" routerLink="dashboard" routerLinkActive="header-link_active">
    <div class="header-link__dashboard">
      <svg class="dashboard-icon" width="22px" height="22px" viewBox="0 0 22 22" version="1.1"
           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
           stroke-linejoin="round">
          <g class="dashboard-icon_color" transform="translate(-385.000000, -41.000000)" stroke="#000000"
             stroke-width="1.5">
            <g transform="translate(386.000000, 40.000000)">
              <g transform="translate(0.000000, 2.000000)">
                <circle cx="10" cy="8.125" r="4.375"></circle>
                <path
                  d="M15.7608333,17.3966667 C14.2362899,15.8625492 12.1628105,14.9998815 10,14.9998815 C7.83718949,14.9998815 5.76371015,15.8625492 4.23916667,17.3966667">
                </path>
                <circle cx="10" cy="10" r="9.375"></circle>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <span translate>Common.Navigation.Dashboard</span>
  </a>
</ng-template>
