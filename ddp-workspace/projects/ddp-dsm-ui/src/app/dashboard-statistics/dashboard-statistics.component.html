<h1>
  Statistics Dashboard
</h1>

<div class="dashboard">
  <ng-container *ngTemplateOutlet="charts, context: {
    charts: Charts | async,
    counts: Counts | async
  }">
  </ng-container>
</div>

<div class="spinner" *ngIf="loading">
  <mat-spinner></mat-spinner>
</div>

<ng-template let-Charts="charts" let-Counts="counts" #charts>

  <div class="dashboard-chartsAndCounts" *ngIf="!loading">

    <mat-tab-group mat-align-tabs="center">
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="example-tab-icon">bar_chart</mat-icon>
          Charts
        </ng-template>
        <app-plotly-charts [chartData]="Charts" [config]="getConfiguration"></app-plotly-charts>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="example-tab-icon">score</mat-icon>
          Counts
        </ng-template>
      <app-counts [countsData]="Counts"></app-counts>
      </mat-tab>

    </mat-tab-group>

  </div>

</ng-template>
